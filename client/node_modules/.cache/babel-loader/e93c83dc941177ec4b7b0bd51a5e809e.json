{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\sarah\\\\Dropbox\\\\WD\\\\advanced web\\\\code\\\\QandA\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\sarah\\\\Dropbox\\\\WD\\\\advanced web\\\\code\\\\QandA\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\sarah\\\\Dropbox\\\\WD\\\\advanced web\\\\code\\\\QandA\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\sarah\\\\Dropbox\\\\WD\\\\advanced web\\\\code\\\\QandA\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\sarah\\\\Dropbox\\\\WD\\\\advanced web\\\\code\\\\QandA\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from\"@reach/router\";import PostAnswer from\"./PostAnswer\";var Question=/*#__PURE__*/function(_Component){_inherits(Question,_Component);function Question(){_classCallCheck(this,Question);return _possibleConstructorReturn(this,_getPrototypeOf(Question).apply(this,arguments));}_createClass(Question,[{key:\"upVote\",value:function upVote(aId,question){var answer=question.answers.find(function(a){return a._id===aId;});var vote=answer.vote+1;console.log(aId,\"Downvoted\",answer,vote);this.props.putVote(question._id,answer,vote);}},{key:\"downVote\",value:function downVote(aId,question){var answer=question.answers.find(function(a){return a._id===aId;});var vote=answer.vote-1;console.log(aId,\"Downvoted\",answer,vote);this.props.putVote(question._id,answer,vote);}},{key:\"addAnswer\",value:function addAnswer(text,question){var newAnswer={text:text,vote:0};this.props.postAnswer(question._id,newAnswer);}},{key:\"render\",value:function render(){var _this=this;var question=this.props.getQuestion(this.props.id);var mapFunction=function mapFunction(answer,index){return React.createElement(\"li\",{key:index},answer.text,React.createElement(\"button\",{onClick:function onClick(){return _this.upVote(answer._id,question);},style:{marginLeft:\"2vw\"}},\"Up\"),React.createElement(\"span\",{style:{margin:\"0 2vw\"}},answer.vote),React.createElement(\"button\",{onClick:function onClick(){return _this.downVote(answer._id,question);}},\"Down\"));};var answersList=question.answers.map(mapFunction);return React.createElement(React.Fragment,null,React.createElement(\"h2\",null,question.title),React.createElement(\"h3\",null,\"Answers:\"),React.createElement(\"ul\",null,answersList),React.createElement(PostAnswer,{path:\"/\",submit:function submit(answer){return _this.addAnswer(answer,question);}}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Link,{to:\"/\"},\"Back to questions\"));}}]);return Question;}(Component);export default Question;","map":{"version":3,"sources":["C:/Users/sarah/Dropbox/WD/advanced web/code/QandA/client/src/Question.js"],"names":["React","Component","Link","PostAnswer","Question","aId","question","answer","answers","find","a","_id","vote","console","log","props","putVote","text","newAnswer","postAnswer","getQuestion","id","mapFunction","index","upVote","marginLeft","margin","downVote","answersList","map","title","addAnswer"],"mappings":"07BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,IAAR,KAAmB,eAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,GAEMC,CAAAA,Q,yQACKC,G,CAAKC,Q,CAAU,CAClB,GAAIC,CAAAA,MAAM,CAAGD,QAAQ,CAACE,OAAT,CAAiBC,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,GAAF,GAAUN,GAAd,EAAvB,CAAb,CACA,GAAIO,CAAAA,IAAI,CAAGL,MAAM,CAACK,IAAP,CAAc,CAAzB,CACAC,OAAO,CAACC,GAAR,CAAYT,GAAZ,CAAiB,WAAjB,CAA8BE,MAA9B,CAAsCK,IAAtC,EACA,KAAKG,KAAL,CAAWC,OAAX,CAAmBV,QAAQ,CAACK,GAA5B,CAAiCJ,MAAjC,CAAyCK,IAAzC,EACH,C,0CAEQP,G,CAAKC,Q,CAAU,CACpB,GAAIC,CAAAA,MAAM,CAAGD,QAAQ,CAACE,OAAT,CAAiBC,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,GAAF,GAAUN,GAAd,EAAvB,CAAb,CACA,GAAIO,CAAAA,IAAI,CAAGL,MAAM,CAACK,IAAP,CAAc,CAAzB,CACAC,OAAO,CAACC,GAAR,CAAYT,GAAZ,CAAiB,WAAjB,CAA8BE,MAA9B,CAAsCK,IAAtC,EACA,KAAKG,KAAL,CAAWC,OAAX,CAAmBV,QAAQ,CAACK,GAA5B,CAAiCJ,MAAjC,CAAyCK,IAAzC,EACH,C,4CAESK,I,CAAMX,Q,CAAU,CACtB,GAAMY,CAAAA,SAAS,CAAG,CACdD,IAAI,CAAEA,IADQ,CAEdL,IAAI,CAAE,CAFQ,CAAlB,CAIA,KAAKG,KAAL,CAAWI,UAAX,CAAsBb,QAAQ,CAACK,GAA/B,CAAoCO,SAApC,EACH,C,uCAGQ,gBACL,GAAMZ,CAAAA,QAAQ,CAAG,KAAKS,KAAL,CAAWK,WAAX,CAAuB,KAAKL,KAAL,CAAWM,EAAlC,CAAjB,CACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACf,MAAD,CAASgB,KAAT,QAChB,2BAAI,GAAG,CAAEA,KAAT,EACKhB,MAAM,CAACU,IADZ,CAEI,8BAAQ,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACO,MAAL,CAAYjB,MAAM,CAACI,GAAnB,CAAwBL,QAAxB,CAAN,EAAjB,CAA0D,KAAK,CAAE,CAACmB,UAAU,CAAE,KAAb,CAAjE,OAFJ,CAGI,4BAAM,KAAK,CAAE,CAACC,MAAM,CAAE,OAAT,CAAb,EAAiCnB,MAAM,CAACK,IAAxC,CAHJ,CAII,8BAAQ,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACe,QAAL,CAAcpB,MAAM,CAACI,GAArB,CAA0BL,QAA1B,CAAN,EAAjB,SAJJ,CADgB,EAApB,CAOA,GAAIsB,CAAAA,WAAW,CAAGtB,QAAQ,CAACE,OAAT,CAAiBqB,GAAjB,CAAqBP,WAArB,CAAlB,CAEA,MACI,yCACI,8BAAKhB,QAAQ,CAACwB,KAAd,CADJ,CAEI,yCAFJ,CAGI,8BACKF,WADL,CAHJ,CAMI,oBAAC,UAAD,EAAY,IAAI,CAAC,GAAjB,CAAqB,MAAM,CAAE,gBAACrB,MAAD,QAAY,CAAA,KAAI,CAACwB,SAAL,CAAexB,MAAf,CAAuBD,QAAvB,CAAZ,EAA7B,EANJ,CAOI,8BAPJ,CAOS,8BAPT,CAUI,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,sBAVJ,CADJ,CAcH,C,sBAjDkBL,S,EAoDvB,cAAeG,CAAAA,QAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from \"@reach/router\";\r\nimport PostAnswer from \"./PostAnswer\";\r\n\r\nclass Question extends Component {\r\n    upVote(aId, question) {\r\n        let answer = question.answers.find(a => a._id === aId);\r\n        let vote = answer.vote + 1;\r\n        console.log(aId, \"Downvoted\", answer, vote);\r\n        this.props.putVote(question._id, answer, vote)\r\n    }\r\n\r\n    downVote(aId, question) {\r\n        let answer = question.answers.find(a => a._id === aId);\r\n        let vote = answer.vote - 1;\r\n        console.log(aId, \"Downvoted\", answer, vote);\r\n        this.props.putVote(question._id, answer, vote)\r\n    }\r\n\r\n    addAnswer(text, question) {\r\n        const newAnswer = {\r\n            text: text,\r\n            vote: 0\r\n        };\r\n        this.props.postAnswer(question._id, newAnswer);\r\n    }\r\n\r\n\r\n    render() {\r\n        const question = this.props.getQuestion(this.props.id);\r\n        const mapFunction = (answer, index) =>\r\n            <li key={index}>\r\n                {answer.text}\r\n                <button onClick={() => this.upVote(answer._id, question)} style={{marginLeft: \"2vw\"}}>Up</button>\r\n                <span style={{margin: \"0 2vw\"}}>{answer.vote}</span>\r\n                <button onClick={() => this.downVote(answer._id, question)}>Down</button>\r\n            </li>;\r\n        let answersList = question.answers.map(mapFunction);\r\n\r\n        return (\r\n            <>\r\n                <h2>{question.title}</h2>\r\n                <h3>Answers:</h3>\r\n                <ul>\r\n                    {answersList}\r\n                </ul>\r\n                <PostAnswer path=\"/\" submit={(answer) => this.addAnswer(answer, question)}></PostAnswer>\r\n                <br/><br/>\r\n\r\n\r\n                <Link to=\"/\">Back to questions</Link>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Question;"]},"metadata":{},"sourceType":"module"}